{"version":3,"sources":["Loading.js","PostsList.js","utils/posts.js","App.js","index.js"],"names":["Loading","useEffect","elts","text1","document","getElementById","text2","texts","textIndex","length","time","Date","morph","cooldown","doMorph","fraction","style","filter","Math","min","opacity","pow","textContent","setMorph","animate","requestAnimationFrame","newTime","shouldIncrementIndex","dt","id","in","type","values","PostsList","posts","map","p","className","href","url","title","getURL","score","getAuthor","by","getHours","descendants","now","hours","ceil","abs","toISOString","split","span","link","site","URL","origin","Endpoints","getPostsId","endpoint","a","fetch","data","json","postsId","getPosts","ids","promises","Promise","all","App","useState","setPosts","slice","response","setPostsJSON","ReactDOM","render"],"mappings":"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","file":"static/js/main.10af2457.chunk.js","sourcesContent":["import React, { useEffect } from 'react'\r\n\r\nexport default function Loading() {\r\n\tuseEffect(() => {\r\n\t\tconst elts = {\r\n\t\t\ttext1: document.getElementById(\"text1\"),\r\n\t\t\ttext2: document.getElementById(\"text2\")\r\n\t\t};\r\n\r\n\t\t// The strings to morph between. You can change these to anything you want!\r\n\t\tconst texts = [\r\n\t\t\t\"Loading\",\r\n\t\t\t\"please\",\r\n\t\t\t\"wait\",\r\n\t\t\t\":)\"\r\n\t\t];\r\n\r\n\t\t// Controls the speed of morphing.\r\n\t\tconst morphTime = 0.50;\r\n\t\tconst cooldownTime = 0.25;\r\n\r\n\t\tlet textIndex = texts.length - 1;\r\n\t\tlet time = new Date();\r\n\t\tlet morph = 0;\r\n\t\tlet cooldown = cooldownTime;\r\n\r\n\t\telts.text1.textContent = texts[textIndex % texts.length];\r\n\t\telts.text2.textContent = texts[(textIndex + 1) % texts.length];\r\n\r\n\t\tfunction doMorph() {\r\n\t\t\tmorph -= cooldown;\r\n\t\t\tcooldown = 0;\r\n\r\n\t\t\tlet fraction = morph / morphTime;\r\n\r\n\t\t\tif (fraction > 1) {\r\n\t\t\t\tcooldown = cooldownTime;\r\n\t\t\t\tfraction = 1;\r\n\t\t\t}\r\n\r\n\t\t\tsetMorph(fraction);\r\n\t\t}\r\n\r\n\t\t// A lot of the magic happens here, this is what applies the blur filter to the text.\r\n\t\tfunction setMorph(fraction) {\r\n\t\t\t// fraction = Math.cos(fraction * Math.PI) / -2 + .5;\r\n\r\n\t\t\telts.text2.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;\r\n\t\t\telts.text2.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;\r\n\r\n\t\t\tfraction = 1 - fraction;\r\n\t\t\telts.text1.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;\r\n\t\t\telts.text1.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;\r\n\r\n\t\t\telts.text1.textContent = texts[textIndex % texts.length];\r\n\t\t\telts.text2.textContent = texts[(textIndex + 1) % texts.length];\r\n\t\t}\r\n\r\n\t\tfunction doCooldown() {\r\n\t\t\tmorph = 0;\r\n\r\n\t\t\telts.text2.style.filter = \"\";\r\n\t\t\telts.text2.style.opacity = \"100%\";\r\n\r\n\t\t\telts.text1.style.filter = \"\";\r\n\t\t\telts.text1.style.opacity = \"0%\";\r\n\t\t}\r\n\r\n\t\t// Animation loop, which is called every frame.\r\n\t\tfunction animate() {\r\n\t\t\trequestAnimationFrame(animate);\r\n\r\n\t\t\tlet newTime = new Date();\r\n\t\t\tlet shouldIncrementIndex = cooldown > 0;\r\n\t\t\tlet dt = (newTime - time) / 1000;\r\n\t\t\ttime = newTime;\r\n\r\n\t\t\tcooldown -= dt;\r\n\r\n\t\t\tif (cooldown <= 0) {\r\n\t\t\t\tif (shouldIncrementIndex) {\r\n\t\t\t\t\ttextIndex++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdoMorph();\r\n\t\t\t} else {\r\n\t\t\t\tdoCooldown();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Start the animation.\r\n\t\tanimate();\r\n\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div id=\"container\">\r\n\t\t\t\t<span id=\"text1\"></span>\r\n\t\t\t\t<span id=\"text2\"></span>\r\n\t\t\t</div>\r\n\t\t\t<svg id=\"filters\">\r\n\t\t\t\t<defs>\r\n\t\t\t\t\t<filter id=\"threshold\">\r\n\t\t\t\t\t\t<feColorMatrix in=\"SourceGraphic\"\r\n\t\t\t\t\t\t\ttype=\"matrix\"\r\n\t\t\t\t\t\t\tvalues=\"1 0 0 0 0\r\n\t\t\t\t\t\t\t\t\t0 1 0 0 0\r\n\t\t\t\t\t\t\t\t\t0 0 1 0 0\r\n\t\t\t\t\t\t\t\t\t0 0 0 255 -140\" />\r\n\t\t\t\t\t</filter>\r\n\t\t\t\t</defs>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport default function PostsList({ posts }) {\r\n  return (\r\n    <ol>\r\n      {posts.map((p) =>\r\n        <li className=\"post-card\" key={p.id}>\r\n          <p className=\"post-name\">\r\n            <a href={p.url} className=\"post-title\">{p.title} </a>\r\n            {getURL(p.url)}\r\n          </p>\r\n          <p className=\"post-info\">\r\n            <span className=\"font-grey\">\r\n              {getPoints(p.score)} | {getAuthor(p.by)} | {getHours(p.time)} | {p.descendants} comments\r\n            </span>\r\n          </p>\r\n        </li>\r\n      )}\r\n    </ol>\r\n  )\r\n}\r\n\r\nfunction getPoints(score) {\r\n  return (\r\n    <>\r\n      <i className=\"fas fa-thumbs-up\"></i> {score} points\r\n    </>\r\n  )\r\n}\r\n\r\nfunction getHours(time) {\r\n  let now = new Date();\r\n  let hours = Math.ceil(Math.abs(now - new Date(time * 1000)) / 36e5);\r\n  return (\r\n    <span title={now.toISOString().split(\".\")[0]} span className=\"post-url cursor-pointer\">{hours} hours ago</span>\r\n  )\r\n}\r\n\r\nfunction getAuthor(id) {\r\n  let link = `https://news.ycombinator.com/user?id=${id}`;\r\n  return <a className=\"post-author\" href={link}>{id}</a>\r\n}\r\n\r\nfunction getURL(url) {\r\n  let site = new URL(url).origin\r\n  return <a href={url} className=\"font-grey post-url\">({site})</a>\r\n}","const Endpoints = {\r\n    JOBS: \"https://hacker-news.firebaseio.com/v0/jobstories.json?print=pretty\",\r\n    STORIES: \"https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty\",\r\n}\r\n\r\nasync function getPostsId(endpoint) {\r\n    let data = await fetch(endpoint);\r\n    let postsId = await data.json();\r\n    return postsId;\r\n}\r\n\r\nasync function getPosts(ids) {\r\n    let promises = ids.map(id => fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json?print=pretty`));\r\n    let data = await Promise.all(promises);\r\n    let posts = await Promise.all(data.map(p => p.json()));\r\n    return posts;\r\n}\r\n\r\n\r\nexport { Endpoints, getPostsId, getPosts }","import { useEffect, useState } from \"react\";\nimport Loading from \"./Loading\";\nimport PostsList from \"./PostsList\";\nimport { Endpoints, getPostsId, getPosts } from \"./utils/posts\"\n\nfunction App() {\n\tconst [posts, setPosts] = useState([])\n\n\tuseEffect(() => {\n\t\tasync function setPostsJSON() {\n\t\t\tlet postsId = await getPostsId(Endpoints.STORIES);\n\t\t\tif (postsId.length > 25)\n\t\t\t\tpostsId = postsId.slice(0, 25)\n\t\t\tconst response = await getPosts(postsId);\n\t\t\tsetPosts(response);\n\t\t}\n\t\tsetPostsJSON()\n\t}, [])\n\n\treturn (\n\t\t<div className=\"\">\n\t\t\t{/* <div> */}\n\t\t\t\t<h1 className=\"row\"> <span className=\"brand\">F</span> Hacker News</h1>\n\t\t\t\t<div className=\"\">\n\t\t\t\t\t{posts.length == 0 && <Loading />}\n\t\t\t\t\t{posts &&\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<PostsList posts={posts} />\n\t\t\t\t\t\t</div>}\n\t\t\t\t</div>\n\t\t\t{/* </div> */}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}